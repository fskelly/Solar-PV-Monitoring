# Example configuration.yaml entry for multiple TCP connections
modbus:
  - name: hub1
    type: tcp
    host: 192.168.15.38
    port: 502
    sensors:
      - name: Modbus_Voltage_A
        slave: 1
        address: 0
        input_type: holding
        unit_of_measurement: V
        device_class: voltage
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16
      - name: Modbus_Current_A
        slave: 1
        address: 1
        input_type: holding
        unit_of_measurement: A
        device_class: current
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16
      - name: Modbus_Power_A
        slave: 1
        address: 2
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        count: 2
        scale: 1
        offset: 0
        precision: 0
        data_type: int32
      - name: Modbus_ImportEnergy_A
        slave: 1
        address: 4
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_ExportGrid_A
        slave: 1
        address: 6
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_PF_A
        slave: 1
        address: 8
        input_type: holding
        #unit_of_measurement: '%'
        device_class: power_factor
        state_class: measurement
        count: 1
        scale: 0.001
        offset: 0
        precision: 2
        data_type: uint16

      - name: Modbus_Voltage_B
        slave: 1
        address: 10
        input_type: holding
        unit_of_measurement: V
        device_class: voltage
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16
      - name: Modbus_Current_B
        slave: 1
        address: 11
        input_type: holding
        unit_of_measurement: A
        device_class: current
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16
      - name: Modbus_Power_B
        slave: 1
        address: 12
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        count: 2
        scale: 1
        offset: 0
        precision: 0
        data_type: int32
      - name: Modbus_ImportEnergy_B
        slave: 1
        address: 14
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_ExportGrid_B
        slave: 1
        address: 16
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_PF_B
        slave: 1
        address: 18
        input_type: holding
        #unit_of_measurement: '%'
        device_class: power_factor
        state_class: measurement
        count: 1
        scale: 0.001
        offset: 0
        precision: 2
        data_type: uint16

      - name: Modbus_Voltage_C
        slave: 1
        address: 20
        input_type: holding
        unit_of_measurement: V
        device_class: voltage
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16
      - name: Modbus_Current_C
        slave: 1
        address: 21
        input_type: holding
        unit_of_measurement: A
        device_class: current
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16
      - name: Modbus_Power_C
        slave: 1
        address: 22
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        count: 2
        scale: 1
        offset: 0
        precision: 0
        data_type: int32
      - name: Modbus_ImportEnergy_C
        slave: 1
        address: 24
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_ExportGrid_C
        slave: 1
        address: 26
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_PF_C
        slave: 1
        address: 28
        input_type: holding
        #unit_of_measurement: '%'
        device_class: power_factor
        state_class: measurement
        count: 1
        scale: 0.001
        offset: 0
        precision: 2
        data_type: uint16

      - name: Modbus_Frequency
        slave: 1
        address: 30
        input_type: holding
        unit_of_measurement: Hz
        device_class: frequency
        state_class: measurement
        count: 1
        scale: 0.01
        offset: 0
        precision: 1
        data_type: uint16

      - name: Modbus_Power_SUM
        slave: 1
        address: 32
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        count: 2
        scale: 1
        offset: 0
        precision: 0
        data_type: int32
      - name: Modbus_ImportEnergy_SUM
        slave: 1
        address: 34
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32
      - name: Modbus_ExportGrid_SUM
        slave: 1
        address: 36
        input_type: holding
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        count: 2
        scale: 0.00125
        offset: 0
        precision: 2
        data_type: uint32